// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

// kod | isim | plasiyer | bakiye | ciro
model Cari {
  kod             String        @id
  unvan           String
  bakiye          Float
  sektor          String?
  temsilci_kod    String?
  vkn             String?
  vergi_daire_no  String?
  vergi_daire_adi String?
  temsilci        Temsilci?     @relation(fields: [temsilci_kod], references: [kod])
  SiparisOzet     SiparisOzet[]
  Siparis         Siparis[]
  Satis           Satis[]
  Tahsilat        Tahsilat[]
  hareket         CariHareket[]

  @@map("CRM_CARI_HESAPLAR")
}

model Stok {
  kod       String  @id @map("sto_kod")
  isim      String  @map("sto_isim")
  birim     String? @map("sto_birim1_ad")
  marka_kod String? @map("sto_marka_kodu")
  kdv       String? @map("sto_muhgrup_kodu")

  marka   Marka?       @relation(fields: [marka_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)
  miktar  StokMiktar   @relation(fields: [kod], references: [stok_kod], onDelete: NoAction, onUpdate: NoAction)
  siparis Siparis[]
  fiyat   FiyatListe[]
  Satis   Satis[]

  bedenHareket    BedenHareket[]
  maliyet         SabitMaliyet[]
  KampanyaStoklar KampanyaStoklar[]
  hareket         StokHareket[]

  @@map("STOKLAR")
}

model StokHareket {
  id               String @id @map("sth_Guid") @db.UniqueIdentifier
  evrak_seri       String @map("sth_evrakno_seri") @db.NVarChar(20)
  evrak_sira       Int    @map("sth_evrakno_sira") @db.Int
  cari_kod         String @map("sth_cari_kodu") @db.NVarChar(25)
  stok_kod         String @map("sth_stok_kod") @db.NVarChar(25)
  miktar           Float  @map("sth_miktar") @db.Float()
  tutar            Float  @map("sth_tutar") @db.Float()
  vergi            Float  @map("sth_vergi") @db.Float()
  iskonto1         Float  @map("sth_iskonto1") @db.Float()
  iskonto2         Float  @map("sth_iskonto2") @db.Float()
  siparis_kod      String @map("sth_sip_uid") @db.UniqueIdentifier
  cari_hareket_kod String @map("sth_fat_uid") @db.UniqueIdentifier
  odeme_plan_kod   Int    @map("sth_odeme_op") @db.Int

  stok        Stok        @relation(fields: [stok_kod], references: [kod], onUpdate: NoAction, onDelete: NoAction)
  siparis     Siparis?    @relation(fields: [siparis_kod], references: [id], onDelete: NoAction, onUpdate: NoAction)
  cariHareket CariHareket @relation(fields: [cari_hareket_kod], references: [id], onDelete: NoAction, onUpdate: NoAction)
  odemePlan   OdemePlan?  @relation(fields: [odeme_plan_kod], references: [id])

  @@map("STOK_HAREKETLERI")
}

model FiyatListe {
  stok_kod String @map("sfiyat_stokkod")
  liste_no Int    @map("sfiyat_listesirano")
  fiyat    Float  @map("sfiyat_fiyati")

  stok Stok @relation(fields: [stok_kod], references: [kod])

  @@unique([stok_kod, liste_no, fiyat])
  @@map("STOK_SATIS_FIYAT_LISTELERI")
}

model StokMiktar {
  stok_kod  String @id @map("sto_kod")
  merkez    Float
  balikesir Float
  istanbul  Float
  servis    Float
  Stok      Stok[]

  @@map("CRM_STOK_DEPO_MIKTARLARI")
}

model Marka {
  kod  String @id @map("mrk_kod")
  isim String @map("mrk_ismi")
  Stok Stok[]

  @@map("STOK_MARKALARI")
}

// kod | isim | mevcutMiktar | birimFiyat
// model Fiyatlar {}
model Temsilci {
  kod         String        @id @map("cari_per_kod")
  ad          String        @map("cari_per_adi")
  soyad       String        @map("cari_per_soyadi")
  tel         String?       @map("cari_per_cepno")
  eposta      String?       @map("cari_per_mail")
  tip         Int           @map("cari_per_tip")
  Cari        Cari[]
  SiparisOzet SiparisOzet[]
  Satis       Satis[]
  PrimOzet    PrimOzet[]
  Kampanya    Kampanya[]

  @@map("CARI_PERSONEL_TANIMLARI")
}

model Depo {
  id          Int           @id @map("dep_no")
  isim        String        @map("dep_adi")
  tip         Int           @map("dep_tipi")
  eposta      String?       @map("dep_yetkili_email")
  SiparisOzet SiparisOzet[]

  @@map("DEPOLAR")
}

model CariHareket {
  id               String    @unique
  tarih            DateTime? @db.DateTime
  evrak_seri       String?
  evrak_sira       Int?
  cari_kod         String
  evrak_tip        String?
  evrak_cinsi      String?
  normal_iade      String
  vade_tarihi      DateTime? @db.DateTime
  vade_gun         Int?
  borc_alacak      String
  ana_doviz_borc   Float
  ana_doviz_alacak Float

  cari        Cari          @relation(fields: [cari_kod], references: [kod], onUpdate: NoAction, onDelete: NoAction)
  stokHareket StokHareket[]

  @@map("CRM_CARI_HESAP_HAREKETLERI")
}

model SiparisOzet {
  tarih            DateTime @db.DateTime
  evrak_seri       String
  evrak_sira       Int
  satir_sayisi     Int
  depo_kod         Int
  cari_kod         String?
  temsilci_kod     String?
  odeme_plan_kod   Int?
  proje            String?
  miktar           Float
  miktar_teslim    Float
  miktar_kalan     Float
  tutar            Float
  tutar_net        Float
  onay             String
  durum            String
  olusturma_tarihi DateTime @db.DateTime
  fileId           Int      @default(21)

  cari               Cari?                @relation(fields: [cari_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)
  temsilci           Temsilci?            @relation(fields: [temsilci_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)
  depo               Depo                 @relation(fields: [depo_kod], references: [id], onDelete: NoAction, onUpdate: NoAction)
  odeme_plan         OdemePlan?           @relation(fields: [odeme_plan_kod], references: [id])
  stoklar            Siparis[]
  aciklama           Aciklama?
  KampanyaSiparisler KampanyaSiparisler[]

  @@id([evrak_seri, evrak_sira, tarih])
  @@unique([evrak_seri, evrak_sira, tarih])
  @@unique([evrak_seri, evrak_sira, fileId])
  @@map("CRM_SIPARISLER_OZET")
}

model OdemePlan {
  id          Int    @id @map("odp_no")
  isim        String @map("odp_adi")
  iskonto_kod Int    @map("odp_special1")

  iskonto     Iskonto       @relation(fields: [iskonto_kod], references: [id], onDelete: NoAction, onUpdate: NoAction)
  SiparisOzet SiparisOzet[]
  StokHareket StokHareket[]

  @@map("ODEME_PLANLARI")
}

model Iskonto {
  id        Int         @id @map("crm_isk_kod")
  isim      String      @map("crm_isk_isim")
  aciklama  String      @map("crm_isk_aciklama")
  oran      Float       @map("crm_isk_oran")
  OdemePlan OdemePlan[]

  @@map("CRM_ISKONTO_TANIMLAMALARI")
}

model Siparis {
  id                           String   @id @map("sip_Guid")
  tarih                        DateTime @map("sip_belge_tarih") @db.DateTime
  evrak_seri                   String   @default("") @map("sip_evrakno_seri")
  evrak_sira                   Int      @map("sip_evrakno_sira")
  satirno                      Int      @map("sip_satirno")
  olusturan_kod                Int      @map("sip_create_user")
  temsilci_kod                 String   @map("sip_satici_kod")
  cari_kod                     String   @map("sip_musteri_kod")
  stok_kod                     String   @map("sip_stok_kod")
  birim_fiyat                  Float    @map("sip_b_fiyat")
  miktar                       Float    @default(1.0) @map("sip_miktar")
  miktar_tamamlanan            Float    @default(0) @map("sip_teslim_miktar")
  tutar                        Float    @map("sip_tutar")
  iskonto                      Float    @default(0) @map("sip_iskonto_1")
  vergi                        Float    @map("sip_vergi")
  odeme_plan_kod               Int      @map("sip_opno")
  aciklama                     String   @default("") @map("sip_aciklama")
  depo_kod                     Int      @map("sip_depono")
  onaylayan_kod                Int      @default(0) @map("sip_OnaylayanKulNo")
  durum                        Int      @default(0) @map("sip_durumu") // TODO: durum için varsayılan değer kontrol edilecek
  sip_lastup_user              Int
  sip_tarih                    DateTime @db.DateTime
  sip_teslim_tarih             DateTime @db.DateTime
  doviz_cinsi                  Int      @default(0) @map("sip_doviz_cinsi")
  doviz_kuru                   Float    @default(1) @map("sip_doviz_kuru")
  alternatif_doviz_kuru        Float    @map("sip_alt_doviz_kuru")
  sip_cagrilabilir_fl          Int      @default(0)
  proje_kod                    String   @default("1") @map("sip_projekodu")
  sip_SpecRECno                Int      @default(0)
  sip_iptal                    Int      @default(0)
  sip_fileid                   Int      @default(21)
  sip_hidden                   Int      @default(0)
  sip_kilitli                  Int      @default(0)
  sip_degisti                  Int      @default(0)
  sip_checksum                 Int      @default(0)
  sip_lastup_date              DateTime @default(now()) @db.DateTime
  sip_special1                 String   @default("")
  sip_special2                 String   @default("")
  sip_special3                 String   @default("")
  sip_firmano                  Int      @default(0)
  sip_subeno                   Int      @default(0)
  sip_tip                      Int      @default(0)
  sip_cins                     Int      @default(0)
  sip_belgeno                  String   @default("")
  sip_birim_pntr               Int      @default(1)
  sip_iskonto_2                Float    @default(0)
  sip_iskonto_3                Float    @default(0)
  sip_iskonto_4                Float    @default(0)
  sip_iskonto_5                Float    @default(0)
  sip_iskonto_6                Float    @default(0)
  sip_masraf_1                 Float    @default(0)
  sip_masraf_2                 Float    @default(0)
  sip_masraf_3                 Float    @default(0)
  sip_masraf_4                 Float    @default(0)
  sip_vergi_pntr               Int      @default(8)
  sip_masvergi_pntr            Int      @default(0)
  sip_masvergi                 Float    @default(0)
  sip_aciklama2                String   @default("")
  sip_vergisiz_fl              Int      @default(0)
  sip_kapat_fl                 Int      @default(0)
  sip_promosyon_fl             Int      @default(0)
  sip_cari_sormerk             String   @default("")
  sip_stok_sormerk             String   @default("")
  sip_cari_grupno              Int      @default(0)
  sip_adresno                  Int      @default(1)
  sip_teslimturu               String   @default("")
  sip_prosip_uid               String   @default("00000000-0000-0000-0000-000000000000")
  sip_iskonto1                 Int      @default(0)
  sip_iskonto2                 Int      @default(1)
  sip_iskonto3                 Int      @default(1)
  sip_iskonto4                 Int      @default(1)
  sip_iskonto5                 Int      @default(1)
  sip_iskonto6                 Int      @default(1)
  sip_masraf1                  Int      @default(1)
  sip_masraf2                  Int      @default(1)
  sip_masraf3                  Int      @default(1)
  sip_masraf4                  Int      @default(1)
  sip_isk1                     Int      @default(0)
  sip_isk2                     Int      @default(0)
  sip_isk3                     Int      @default(0)
  sip_isk4                     Int      @default(0)
  sip_isk5                     Int      @default(0)
  sip_isk6                     Int      @default(0)
  sip_mas1                     Int      @default(0)
  sip_mas2                     Int      @default(0)
  sip_mas3                     Int      @default(0)
  sip_mas4                     Int      @default(0)
  sip_Exp_Imp_Kodu             String   @default("")
  sip_kar_orani                Float    @default(0)
  sip_stal_uid                 String   @default("00000000-0000-0000-0000-000000000000")
  sip_planlananmiktar          Float    @default(0)
  sip_teklif_uid               String   @default("00000000-0000-0000-0000-000000000000")
  sip_parti_kodu               String   @default("")
  sip_lot_no                   Int      @default(0)
  sip_fiyat_liste_no           Int      @default(0)
  sip_Otv_Pntr                 Int      @default(0)
  sip_Otv_Vergi                Float    @default(0)
  sip_otvtutari                Float    @default(0)
  sip_OtvVergisiz_Fl           Int      @default(0)
  sip_paket_kod                String   @default("")
  sip_Rez_uid                  String   @default("00000000-0000-0000-0000-000000000000")
  sip_harekettipi              Int      @default(0)
  sip_yetkili_uid              String   @default("00000000-0000-0000-0000-000000000000")
  sip_kapatmanedenkod          String   @default("")
  sip_gecerlilik_tarihi        DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  sip_onodeme_evrak_tip        Int      @default(0)
  sip_onodeme_evrak_seri       String   @default("")
  sip_onodeme_evrak_sira       Int      @default(0)
  sip_rezervasyon_miktari      Float    @default(0)
  sip_rezerveden_teslim_edilen Float    @default(0)
  sip_HareketGrupKodu1         String   @default("")
  sip_HareketGrupKodu2         String   @default("")
  sip_HareketGrupKodu3         String   @default("")
  sip_Olcu1                    Float    @default(0)
  sip_Olcu2                    Float    @default(0)
  sip_Olcu3                    Float    @default(0)
  sip_Olcu4                    Float    @default(0)
  sip_Olcu5                    Float    @default(0)
  sip_FormulMiktarNo           Int      @default(0)
  sip_FormulMiktar             Float    @default(0)
  sip_satis_fiyat_doviz_cinsi  Int      @default(0)
  sip_satis_fiyat_doviz_kuru   Float    @default(0)
  sip_eticaret_kanal_kodu      String   @default("")

  stok        Stok          @relation(fields: [stok_kod], references: [kod])
  cari        Cari          @relation(fields: [cari_kod], references: [kod])
  siparis     SiparisOzet   @relation(fields: [evrak_seri, evrak_sira, tarih], references: [evrak_seri, evrak_sira, tarih])
  stokHareket StokHareket[]

  @@unique([evrak_seri, evrak_sira, stok_kod])
  @@map("SIPARISLER")
}

model Aciklama {
  id                       String   @id @map("egk_Guid")
  olusturan_kod            Int      @map("egk_create_user")
  lastup_user              Int      @map("egk_lastup_user")
  evrak_seri               String   @map("egk_evr_seri")
  evrak_sira               Int      @map("egk_evr_sira")
  satir1                   String   @default("") @map("egk_evracik1")
  satir2                   String   @default("") @map("egk_evracik2")
  satir3                   String   @default("") @map("egk_evracik3")
  satir4                   String   @default("") @map("egk_evracik4")
  satir5                   String   @default("") @map("egk_evracik5")
  satir6                   String   @default("") @map("egk_evracik6")
  satir7                   String   @default("") @map("egk_evracik7")
  satir8                   String   @default("") @map("egk_evracik8")
  satir9                   String   @default("") @map("egk_evracik9")
  satir10                  String   @default("") @map("egk_evracik10")
  egk_SpecRECno            Int      @default(0)
  egk_iptal                Int      @default(0)
  egk_fileid               Int      @default(66)
  egk_hidden               Int      @default(0)
  egk_kilitli              Int      @default(0)
  egk_degisti              Int      @default(0)
  egk_checksum             Int      @default(0)
  egk_lastup_date          DateTime @default(now()) @db.DateTime
  egk_special1             String   @default("")
  egk_special2             String   @default("")
  egk_special3             String   @default("")
  egk_dosyano              Int      @default(21)
  egk_hareket_tip          Int      @default(0)
  egk_evr_tip              Int      @default(0)
  egk_evr_ustkod           String   @default("")
  egk_evr_doksayisi        Int      @default(0)
  egk_sipgenkarorani       Int      @default(0)
  egk_kargokodu            String   @default("")
  egk_kargono              String   @default("")
  egk_tesaltarihi          DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  egk_tesalkisi            String   @default("")
  egk_prevwiewsayisi       Int      @default(0)
  egk_emailsayisi          Int      @default(0)
  egk_Evrakopno_verildi_fl Int      @default(0)

  evrak SiparisOzet @relation(fields: [evrak_seri, evrak_sira, egk_dosyano], references: [evrak_seri, evrak_sira, fileId])

  @@unique([evrak_seri, evrak_sira, egk_dosyano])
  @@map("EVRAK_ACIKLAMALARI")
}

model Satis {
  id            String   @id @unique
  faturaId      String
  tarih         DateTime
  yil           Int
  ceyrek        Int
  ay_index      Int
  ay            String
  stok_kod      String
  odeme_kod     String
  odeme         String?
  temsilci_kod  String?
  temsilci_isim String?
  cari_kod      String
  bolge         String?
  anagrup       String?
  marka         String?
  miktar        Int
  tutar         Float?
  kur           Float?
  alis_kur      Float?
  servis        String?
  iade          Int
  satis_tl      Float?
  satis_euro    Float?
  alis_tl       Float?
  alis_euro     Float?
  kar_tl        Float?
  kar_euro      Float?
  kar_oran      Float?

  stok     Stok      @relation(fields: [stok_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)
  cari     Cari      @relation(fields: [cari_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)
  temsilci Temsilci? @relation(fields: [temsilci_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)

  @@map("CRM_SATISLAR")
}

model PrimOzet {
  temsilci_kod String @id
  alacak_tl    Float?
  satis_tl     Float?
  satis_euro   Float?
  hedef_euro   Float?
  kar_euro     Float?
  oran         Float?

  temsilci Temsilci? @relation(fields: [temsilci_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)

  @@map("CRM_ANLIK_PRIM_DURUM")
}

model BedenHareket {
  evrak_seri String
  evrak_sira Int
  stok_kod   String
  beden      String
  renk       String
  miktar     Float

  stok Stok @relation(fields: [stok_kod], references: [kod])

  @@unique([evrak_seri, evrak_sira, stok_kod, beden, renk])
  @@map("CRM_BEDEN_HAREKETLERI")
}

model SabitMaliyet {
  id               Int      @id @default(autoincrement())
  stok_kod         String
  maliyet          Float
  baslangic_tarihi DateTime @db.DateTime
  stok             Stok     @relation(fields: [stok_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)

  @@map("_STOK_SABIT_MALIYETLER")
}

model Aykur {
  id               Int      @id @default(autoincrement())
  baslangic_tarihi DateTime @db.DateTime
  kur              Float

  @@map("_AYKUR")
}

model Kampanya {
  id               Int      @id @default(autoincrement())
  baslangic_tarihi DateTime @db.DateTime
  bitis_tarihi     DateTime @db.DateTime
  isim             String
  aciklama         String?  @default("")
  olusturan_kod    String
  olusturma_tarihi DateTime @default(now()) @db.DateTime
  limit            Int
  notlar           String?  @default("")

  stoklar    KampanyaStoklar[]
  siparisler KampanyaSiparisler[]
  olusturan  Temsilci             @relation(fields: [olusturan_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)

  @@map("CRM_KAMPANYA_TANIMLARI")
}

model KampanyaStoklar {
  id          Int    @id @default(autoincrement())
  kampanya_id Int
  stok_kod    String
  miktar      Float
  fiyat       Float
  listefiyat  Float

  kampanya Kampanya @relation(fields: [kampanya_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stok     Stok     @relation(fields: [stok_kod], references: [kod], onDelete: NoAction, onUpdate: NoAction)

  @@unique([kampanya_id, stok_kod])
  @@map("CRM_KAMPANYA_STOKLAR")
}

model KampanyaSiparisler {
  id          Int
  kampanya_id Int
  sip_seri    String
  sip_sira    Int
  fileId      Int         @default(21)
  kampanya    Kampanya    @relation(fields: [kampanya_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  siparis     SiparisOzet @relation(fields: [sip_seri, sip_sira, fileId], references: [evrak_seri, evrak_sira, fileId], onDelete: NoAction, onUpdate: NoAction)

  @@unique([kampanya_id, sip_seri, sip_sira])
  @@map("CRM_KAMPANYA_SIPARISLER")
}

model Tahsilat {
  id                                    String   @id @map("cha_Guid")
  evrak_sira                            Int      @map("cha_evrakno_sira")
  tarih                                 DateTime @map("cha_tarihi") @db.Date
  aciklama                              String   @map("cha_aciklama")
  temsilci_kod                          String   @map("cha_satici_kodu")
  cari_kod                              String   @map("cha_kod")
  doviz_kur                             Float    @map("cha_altd_kur")
  tutar                                 Float    @map("cha_meblag")
  aratoplam                             Float    @map("cha_aratoplam")
  vade                                  Int      @map("cha_vade")
  fis_tarihi                            DateTime @map("cha_fis_tarih") @db.Date
  referans_no                           String   @map("cha_trefno")
  cha_evrakno_seri                      String   @default("")
  cha_DBCno                             Int      @default(0)
  cha_iptal                             Int      @default(0)
  cha_fileid                            Int      @default(51)
  cha_hidden                            Int      @default(0)
  cha_kilitli                           Int      @default(1)
  cha_degisti                           Int      @default(0)
  cha_CheckSum                          Int      @default(0)
  cha_create_user                       Int      @default(100) // API kullanıcısı
  cha_create_date                       DateTime @default(now()) @db.DateTime
  cha_lastup_user                       Int      @default(100)
  cha_lastup_date                       DateTime @default(now()) @db.DateTime
  cha_special1                          String   @default("")
  cha_special2                          String   @default("")
  cha_special3                          String   @default("")
  cha_firmano                           Int      @default(0)
  cha_subeno                            Int      @default(0)
  cha_evrak_tip                         Int      @default(1)
  cha_satir_no                          Int      @default(0)
  cha_tip                               Int      @default(1)
  cha_cinsi                             Int      @default(19)
  cha_normal_Iade                       Int      @default(0)
  cha_tpoz                              Int      @default(0)
  cha_ticaret_turu                      Int      @default(0)
  cha_belge_no                          String   @default("")
  cha_belge_tarih                       DateTime @db.Date
  cha_EXIMkodu                          String   @default("")
  cha_projekodu                         String   @default("")
  cha_yat_tes_kodu                      String   @default("")
  cha_cari_cins                         Int      @default(0)
  cha_ciro_cari_kodu                    String   @default("")
  cha_d_cins                            Int      @default(0)
  cha_d_kur                             Float    @default(1)
  cha_grupno                            Int      @default(0)
  cha_srmrkkodu                         String   @default("")
  cha_kasa_hizmet                       Int      @default(0)
  cha_kasa_hizkod                       String   @default("102.10.001")
  cha_karsidcinsi                       Int      @default(0)
  cha_karsid_kur                        Float    @default(1)
  cha_karsidgrupno                      Float    @default(7)
  cha_karsisrmrkkodu                    String   @default("")
  cha_miktari                           Float    @default(0)
  cha_Vade_Farki_Yuz                    Float    @default(0)
  cha_ft_iskonto1                       Float    @default(0)
  cha_ft_iskonto2                       Float    @default(0)
  cha_ft_iskonto3                       Float    @default(0)
  cha_ft_iskonto4                       Float    @default(0)
  cha_ft_iskonto5                       Float    @default(0)
  cha_ft_iskonto6                       Float    @default(0)
  cha_ft_masraf1                        Float    @default(0)
  cha_ft_masraf2                        Float    @default(0)
  cha_ft_masraf3                        Float    @default(0)
  cha_ft_masraf4                        Float    @default(0)
  cha_isk_mas1                          Int      @default(0)
  cha_isk_mas2                          Int      @default(0)
  cha_isk_mas3                          Int      @default(0)
  cha_isk_mas4                          Int      @default(0)
  cha_isk_mas5                          Int      @default(0)
  cha_isk_mas6                          Int      @default(0)
  cha_isk_mas7                          Int      @default(0)
  cha_isk_mas8                          Int      @default(0)
  cha_isk_mas9                          Int      @default(0)
  cha_isk_mas10                         Int      @default(0)
  cha_sat_iskmas1                       Int      @default(0)
  cha_sat_iskmas2                       Int      @default(0)
  cha_sat_iskmas3                       Int      @default(0)
  cha_sat_iskmas4                       Int      @default(0)
  cha_sat_iskmas5                       Int      @default(0)
  cha_sat_iskmas6                       Int      @default(0)
  cha_sat_iskmas7                       Int      @default(0)
  cha_sat_iskmas8                       Int      @default(0)
  cha_sat_iskmas9                       Int      @default(0)
  cha_sat_iskmas10                      Int      @default(0)
  cha_yuvarlama                         Float    @default(0)
  cha_StFonPntr                         Int      @default(0)
  cha_stopaj                            Float    @default(0)
  cha_savsandesfonu                     Float    @default(0)
  cha_avansmak_damgapul                 Float    @default(0)
  cha_vergipntr                         Int      @default(0)
  cha_vergi1                            Float    @default(0)
  cha_vergi2                            Float    @default(0)
  cha_vergi3                            Float    @default(0)
  cha_vergi4                            Float    @default(0)
  cha_vergi5                            Float    @default(0)
  cha_vergi6                            Float    @default(0)
  cha_vergi7                            Float    @default(0)
  cha_vergi8                            Float    @default(0)
  cha_vergi9                            Float    @default(0)
  cha_vergi10                           Float    @default(0)
  cha_vergisiz_fl                       Int      @default(0)
  cha_otvtutari                         Float    @default(0)
  cha_otvvergisiz_fl                    Int      @default(0)
  cha_oiv_pntr                          Int      @default(0)
  cha_oivtutari                         Float    @default(0)
  cha_oiv_vergi                         Float    @default(0)
  cha_oivergisiz_fl                     Int      @default(0)
  cha_fis_sirano                        Int
  cha_sntck_poz                         Int      @default(2)
  cha_reftarihi                         DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  cha_istisnakodu                       Int      @default(0)
  cha_pos_hareketi                      Int      @default(0)
  cha_meblag_ana_doviz_icin_gecersiz_fl Int      @default(0)
  cha_meblag_alt_doviz_icin_gecersiz_fl Int      @default(0)
  cha_meblag_orj_doviz_icin_gecersiz_fl Int      @default(0)
  cha_sip_uid                           String   @default("00000000-0000-0000-0000-000000000000")
  cha_kirahar_uid                       String   @default("00000000-0000-0000-0000-000000000000")
  cha_vardiya_tarihi                    DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  cha_vardiya_no                        Int      @default(0)
  cha_vardiya_evrak_ti                  Int      @default(0)
  cha_ebelge_turu                       Int      @default(0)
  cha_tevkifat_toplam                   Float    @default(0)
  cha_ilave_edilecek_kdv1               Float    @default(0)
  cha_ilave_edilecek_kdv2               Float    @default(0)
  cha_ilave_edilecek_kdv3               Float    @default(0)
  cha_ilave_edilecek_kdv4               Float    @default(0)
  cha_ilave_edilecek_kdv5               Float    @default(0)
  cha_ilave_edilecek_kdv6               Float    @default(0)
  cha_ilave_edilecek_kdv7               Float    @default(0)
  cha_ilave_edilecek_kdv8               Float    @default(0)
  cha_ilave_edilecek_kdv9               Float    @default(0)
  cha_ilave_edilecek_kdv10              Float    @default(0)
  cha_e_islem_turu                      Int      @default(0)
  cha_fatura_belge_turu                 Int      @default(0)
  cha_diger_belge_adi                   String   @default("")
  cha_uuid                              String   @default("")
  cha_adres_no                          Int      @default(0)
  cha_vergifon_toplam                   Float    @default(0)
  cha_ilk_belge_tarihi                  DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  cha_ilk_belge_doviz_kuru              Float    @default(0)
  cha_HareketGrupKodu1                  String   @default("")
  cha_HareketGrupKodu2                  String   @default("")
  cha_HareketGrupKodu3                  String   @default("")
  cha_ebelgeno_seri                     String   @default("")
  cha_ebelgeno_sira                     Int      @default(0)
  cha_hubid                             String   @default("")
  cha_hubglbid                          String   @default("")
  cha_disyazilimid                      String   @default("")
  cha_disyazilim_tip                    Int      @default(0)
  cha_bsba_e_belge_mi                   Int      @default(0)
  cha_eticaret_kanal_kodu               String   @default("")
  cha_hizli_satis_kasa_no               Int      @default(0)
  cha_ebelge_Islemturu                  Int      @default(0)

  cari Cari @relation(fields: [cari_kod], references: [kod])

  @@unique([cha_evrak_tip, cha_evrakno_seri, evrak_sira, cha_satir_no])
  @@unique([fis_tarihi, cha_fis_sirano])
  @@map("CARI_HESAP_HAREKETLERI")
}

model MuhasebeFis {
  id                        String   @id @map("fis_Guid") @db.UniqueIdentifier
  fis_DBCno                 Int      @default(0) @db.SmallInt
  fis_SpecRECno             Int      @default(0) @db.Int
  fis_iptal                 Int      @default(0) @db.Bit
  fis_fileid                Int      @default(2) @db.SmallInt
  fis_hidden                Int      @default(0) @db.Bit
  fis_kilitli               Int      @default(0) @db.Bit
  fis_degisti               Int      @default(0) @db.Bit
  fis_checksum              Int      @default(0) @db.Int
  fis_create_user           Int      @default(100) @db.SmallInt
  fis_create_date           DateTime @default(now()) @db.DateTime
  fis_lastup_user           Int      @default(100) @db.SmallInt
  fis_lastup_date           DateTime @default(now()) @db.DateTime
  fis_special1              String   @default("") @db.NVarChar(4)
  fis_special2              String   @default("") @db.NVarChar(4)
  fis_special3              String   @default("") @db.NVarChar(4)
  fis_firmano               Int      @default(0) @db.Int
  fis_subeno                Int      @default(0) @db.Int
  fis_maliyil               Int      @db.Int
  fis_tarih                 DateTime @db.DateTime
  fis_sira_no               Int      @db.Int
  fis_tur                   Int      @default(1) @db.TinyInt
  fis_hesap_kod             String   @db.NVarChar(25)
  fis_satir_no              Int      @db.Int
  fis_aciklama1             String   @db.NVarChar(127)
  fis_meblag0               Float    @db.Float
  fis_meblag1               Float    @db.Float
  fis_meblag2               Float    @db.Float
  fis_meblag3               Float    @default(0) @db.Float
  fis_meblag4               Float    @default(0) @db.Float
  fis_meblag5               Float    @default(0) @db.Float
  fis_meblag6               Float    @default(0) @db.Float
  fis_sorumluluk_kodu       String   @default("") @db.NVarChar(25)
  fis_ticari_tip            Int      @default(2) @db.TinyInt
  fis_ticari_uid            String   @db.UniqueIdentifier
  fis_kurfarkifl            Int      @default(0) @db.Bit
  fis_ticari_evraktip       Int      @default(1) @db.TinyInt
  fis_tic_evrak_seri        String   @default("")
  fis_tic_evrak_sira        Int      @db.Int
  fis_tic_belgeno           String   @default("")
  fis_tic_belgetarihi       DateTime @db.DateTime
  fis_yevmiye_no            Int      @db.Int
  fis_katagori              Int      @default(0) @db.SmallInt
  fis_evrak_DBCno           Int      @default(0) @db.SmallInt
  fis_fmahsup_tipi          Int      @default(0) @db.TinyInt
  fis_fozelmahkod           String   @default("") @db.NVarChar(25)
  fis_grupkodu              String   @default("") @db.NVarChar(4)
  fis_aktif_pasif           Int      @default(0) @db.TinyInt
  fis_proje_kodu            String   @default("") @db.NVarChar(25)
  fis_HareketGrupKodu1      String   @default("") @db.NVarChar(25)
  fis_HareketGrupKodu2      String   @default("") @db.NVarChar(25)
  fis_HareketGrupKodu3      String   @default("") @db.NVarChar(25)
  fis_ticari_hubid          String   @default("") @db.NVarChar(50)
  fis_ticari_hubglbid       String   @default("") @db.NVarChar(50)
  fis_ticari_disyazilimid   String   @default("") @db.NVarChar(50)
  fis_ticari_disyazilim_tip Int      @default(0) @db.TinyInt

  @@unique([fis_firmano, fis_maliyil, fis_yevmiye_no, fis_satir_no])
  @@unique([fis_tarih, fis_sira_no, fis_satir_no])
  @@index([fis_hesap_kod, fis_tarih, fis_sira_no])
  @@index([fis_ticari_tip, fis_ticari_uid])
  @@index([fis_sorumluluk_kodu, fis_tarih, fis_sira_no])
  @@index([fis_grupkodu, fis_tarih, fis_sira_no])
  @@map("MUHASEBE_FISLERI")
}

model MuhasebeFisDetay {
  evrak_seri               String   @default("") @map("mfd_evrak_seri")
  evrak_sira               Int      @map("mfd_evrak_sira") @db.Int
  cariunvan                String   @map("mfd_cariunvan") @db.NVarChar(127)
  carivergidaireadi        String   @map("mfd_carivergidaireadi") @db.NVarChar(50)
  carivergidaireno         String   @map("mfd_carivergidaireno") @db.NVarChar(15)
  belgetarihi              DateTime @map("mfd_belgetarihi") @db.DateTime
  carikodu                 String   @map("mfd_carikodu") @db.NVarChar(25)
  carimuhkodu              String   @map("mfd_carimuhkodu") @db.NVarChar(25)
  aciklama                 String   @default("") @map("mfd_aciklama") @db.NVarChar(127)
  mfd_Guid                 String   @id @default(dbgenerated("newid()")) @db.UniqueIdentifier
  mfd_DBCno                Int      @default(0) @db.SmallInt
  mfd_SpecRECno            Int      @default(0) @db.Int
  mfd_iptal                Int      @default(0) @db.Bit
  mfd_fileid               Int      @default(243) @db.SmallInt
  mfd_hidden               Int      @default(0) @db.Bit
  mfd_kilitli              Int      @default(0) @db.Bit
  mfd_degisti              Int      @default(0) @db.Bit
  mfd_checksum             Int      @default(0) @db.Int
  mfd_create_user          Int      @default(100) @db.SmallInt
  mfd_create_date          DateTime @default(dbgenerated("getdate()")) @db.DateTime
  mfd_lastup_user          Int      @default(100) @db.SmallInt
  mfd_lastup_date          DateTime @default(now()) @db.DateTime
  mfd_special1             String   @default("") @db.NVarChar(4)
  mfd_special2             String   @default("") @db.NVarChar(4)
  mfd_special3             String   @default("") @db.NVarChar(4)
  mfd_ticari_tip           Int      @default(2) @db.TinyInt
  mfd_evraktip             Int      @default(1) @db.TinyInt
  mfd_bsbakonututar        Float    @default(0) @db.Float
  mfd_bsbatabii            Int      @default(0) @db.TinyInt
  mfd_cariulkekodno        String   @default("52") @db.NVarChar(4)
  mfd_tutarnereden         Int      @default(0) @db.TinyInt
  mfd_caritipi             Int      @default(2) @db.TinyInt
  mfd_belgeno              String   @default("")
  mfd_kdvid                Int      @default(0) @db.TinyInt
  mfd_kdvtutar             Float    @default(0) @db.Float
  mfd_malhizmetkodu        String   @default("") @db.NVarChar(25)
  mfd_malhizmetcinsi       String   @default("") @db.NVarChar(120)
  mfd_malhizmetmiktari     Float    @default(0) @db.Float
  mfd_malhizmetbirim       String   @default("") @db.NVarChar(10)
  mfd_ggb_gcb_no           String   @default("") @db.NVarChar(30)
  mfd_aracivergidaireadi   String   @default("") @db.NVarChar(50)
  mfd_aracivergidaireno    String   @default("") @db.NVarChar(15)
  mfd_eximulkekodu         String   @default("") @db.NVarChar(4)
  mfd_bsbakonuufrstutar    Float    @default(0) @db.Float
  mfd_caritutar            Float    @default(0) @db.Float
  mfd_kisaevraktipi        Int      @default(3) @db.TinyInt
  mfd_satistipi            Int      @default(0) @db.TinyInt
  mfd_alistipi             Int      @default(0) @db.TinyInt
  mfd_tahtedtipi           Int      @default(4) @db.TinyInt
  mfd_digerevrakadi        String   @default("Tahsilat makbuzu") @db.NVarChar(50)
  mfd_evraktur             Int      @default(0) @db.TinyInt
  mfd_e_belgemi            Int      @default(0) @db.Int
  mfd_e_belgemi_nereden    Int      @default(0) @db.TinyInt
  mfd_evrak_hubid          String   @default("") @db.NVarChar(50)
  mfd_evrak_hubglbid       String   @default("") @db.NVarChar(50)
  mfd_evrak_baglantisi     Int      @default(1) @db.TinyInt
  mfd_evrak_disyazilimid   String   @default("") @db.NVarChar(50)
  mfd_evrak_disyazilim_tip Int      @default(0) @db.TinyInt

  @@map("MUHASEBE_FIS_DETAYLARI")
}

model DovizKur {
  id           String   @id @map("dov_Guid") @db.UniqueIdentifier
  no           Int      @map("dov_no") @db.TinyInt
  tarih        DateTime @map("dov_tarih") @db.DateTime
  alis         Float    @map("dov_fiyat1") @db.Float
  satis        Float    @map("dov_fiyat2") @db.Float
  efektifAlis  Float    @map("dov_fiyat3") @db.Float
  efektifSatis Float    @map("dov_fiyat4") @db.Float

  @@map("DOVIZ_KURLARI")
}

model OdemeEmir {
  id                   String   @id @map("sck_Guid")
  refno                String   @map("sck_refno") @db.NVarChar(25)
  borclu               String   @map("sck_borclu") @db.NVarChar(50)
  vdaire_no            String   @map("sck_vdaire_no") @db.NVarChar(40)
  tutar                Float    @map("sck_tutar") @db.Float
  vade                 DateTime @map("sck_vade") @db.DateTime
  cari_kodu            String   @map("sck_sahip_cari_kodu") @db.NVarChar(25)
  ilk_hareket_tarihi   DateTime @map("sck_ilk_hareket_tarihi") @db.DateTime
  son_hareket_tarihi   DateTime @map("sck_son_hareket_tarihi") @db.DateTime
  evrak_seri           String   @default("") @map("sck_ilk_evrak_seri")
  evrak_sira_no        Int      @map("sck_ilk_evrak_sira_no") @db.Int
  evrak_satir_no       Int      @default(0) @map("sck_ilk_evrak_satir_no") @db.Int
  sck_nerede_cari_kodu String   @default("102.10.001") @db.NVarChar(25)

  sck_DBCno                              Int      @default(0) @db.SmallInt
  sck_SpecRECno                          Int      @default(0) @db.Int
  sck_iptal                              Int      @default(0) @db.Bit
  sck_fileid                             Int      @default(54) @db.SmallInt
  sck_hidden                             Int      @default(0) @db.Bit
  sck_kilitli                            Int      @default(0) @db.Bit
  sck_degisti                            Int      @default(0) @db.Bit
  sck_checksum                           Int      @default(0) @db.Bit
  sck_create_user                        Int      @default(100) @db.Int // API USER
  sck_create_date                        DateTime @default(now()) @db.DateTime
  sck_lastup_user                        Int      @default(100) @db.Int // API USER
  sck_lastup_date                        DateTime @default(now()) @db.DateTime
  sck_special1                           String   @default("") @db.NVarChar(4)
  sck_special2                           String   @default("") @db.NVarChar(4)
  sck_special3                           String   @default("") @db.NVarChar(4)
  sck_firmano                            Int      @default(0) @db.Int
  sck_subeno                             Int      @default(0) @db.Int
  sck_tip                                Int      @default(6) @db.TinyInt
  sck_bankano                            String   @default("") @db.NVarChar(25)
  sck_doviz                              Int      @default(0) @db.TinyInt
  sck_odenen                             Float    @default(0) @db.Float
  sck_degerleme_islendi                  Int      @default(0) @db.TinyInt
  sck_banka_adres1                       String   @default("") @db.NVarChar(50)
  sck_sube_adres2                        String   @default("") @db.NVarChar(50)
  sck_borclu_tel                         String   @default("") @db.NVarChar(15)
  sck_hesapno_sehir                      String   @default("") @db.NVarChar(30)
  sck_no                                 String   @default("") @db.NVarChar(25)
  sck_duzen_tarih                        DateTime @default("1899-12-30T00:00:00.00Z") @db.DateTime
  sck_sahip_cari_cins                    Int      @default(0) @db.TinyInt
  sck_sahip_cari_grupno                  Int      @default(0) @db.TinyInt
  sck_nerede_cari_cins                   Int      @default(2) @db.TinyInt
  sck_nerede_cari_grupno                 Int      @default(7) @db.TinyInt
  sck_doviz_kur                          Float    @default(1) @db.Float
  sck_sonpoz                             Int      @default(2) @db.TinyInt
  sck_imza                               Int      @default(0) @db.TinyInt
  sck_srmmrk                             String   @default("") @db.NVarChar(25)
  sck_kesideyeri                         String   @default("") @db.NVarChar(14)
  Sck_TCMB_Banka_kodu                    String   @default("") @db.NVarChar(4)
  Sck_TCMB_Sube_kodu                     String   @default("") @db.NVarChar(8)
  Sck_TCMB_il_kodu                       String   @default("") @db.NVarChar(3)
  SckTasra_fl                            Int      @default(0) @db.Bit
  sck_projekodu                          String   @default("") @db.NVarChar(25)
  sck_masraf1                            Float    @default(0) @db.Float
  sck_masraf1_isleme                     Int      @default(0) @db.TinyInt
  sck_masraf2                            Float    @default(0) @db.Float
  sck_masraf2_isleme                     Int      @default(0) @db.TinyInt
  sck_odul_katkisi_tutari                Float    @default(0) @db.Float
  sck_servis_komisyon_tutari             Float    @default(0) @db.Float
  sck_erken_odeme_faiz_tutari            Float    @default(0) @db.Float
  sck_odul_katkisi_tutari_islendi_fl     Int      @default(0) @db.Bit
  sck_servis_komisyon_tutari_islendi_fl  Int      @default(0) @db.Bit
  sck_erken_odeme_faiz_tutari_islendi_fl Int      @default(0) @db.Bit
  sck_kredi_karti_tipi                   Int      @default(0) @db.TinyInt
  sck_taksit_sayisi                      Int      @default(0) @db.SmallInt
  sck_kacinci_taksit                     Int      @default(0) @db.SmallInt
  sck_uye_isyeri_no                      String   @default("") @db.NVarChar(25)
  sck_kredi_karti_no                     String   @default("") @db.NVarChar(16)
  sck_provizyon_kodu                     String   @default("") @db.NVarChar(10)
  sck_disyazilimid                       String   @default("") @db.NVarChar(50)
  sck_disyazilimtip                      Int      @default(0) @db.TinyInt

  @@map("ODEME_EMIRLERI")
}

model CihazHareket {
  guid        String   @id @db.UniqueIdentifier
  serino      String
  stok        String
  tarih       DateTime
  cari        String   @db.NVarChar(255)
  har_tip     String
  har_cins    String
  normal_iade String

  @@map("CRM_CIHAZ_HAREKETLERI")
}
